<!-- src/app/features/reports/components/case-reports/case-reports.component.html -->
<div class="case-reports-container" [class.loading]="isLoading">
  <!-- Report Form -->
  <form [formGroup]="filtersForm" (ngSubmit)="generateRegistrationForm()">
    <div class="filters-section">
      <!-- Header -->
      <div class="section-header">
        <h2>
          <i class="fas fa-file-alt"></i>
          نموذج التسجيل
        </h2>
      </div>

      <!-- Case Selection -->
      <div class="form-group">
        <label for="caseSelect">
          <i class="fas fa-user"></i>
          اختيار الحالة
        </label>
        <select 
          id="caseSelect"
          class="form-control" 
          formControlName="caseId"
          [class.is-invalid]="filtersForm.get('caseId')?.touched && filtersForm.get('caseId')?.invalid">
          <option [ngValue]="null">-- اختر الحالة --</option>
          <option *ngFor="let case of cases" [ngValue]="case.caseId">
            {{case.name}}
          </option>
        </select>
        <div class="invalid-feedback" 
             *ngIf="filtersForm.get('caseId')?.touched && filtersForm.get('caseId')?.invalid">
          <i class="fas fa-exclamation-circle"></i>
          يرجى اختيار الحالة
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <div class="action-hints" *ngIf="!isLoading">
          <i class="fas fa-info-circle"></i>
          <span>سيتم إنشاء نموذج PDF يحتوي على معلومات التسجيل</span>
        </div>
        
        <button 
          type="submit" 
          class="btn-primary" 
          [disabled]="isLoading || filtersForm.invalid">
          <i class="fas fa-file-pdf"></i>
          <span>{{ isLoading ? 'جاري إنشاء النموذج...' : 'إنشاء نموذج التسجيل' }}</span>
        </button>
      </div>
    </div>
  </form>

  <!-- Loading Overlay -->
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="loading-spinner"></div>
  </div>
</div>